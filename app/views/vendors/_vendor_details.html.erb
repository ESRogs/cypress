<% content_for :head do %>
  <script type="text/javascript">
    function toggleMeasures(toggleSetting, group) {
     if (arguments.length < 2) {
      $('#testMeasures input:checkbox').prop('checked', toggleSetting);
      }else{
      selector = '#testMeasures input:checkbox.' + group;
      $(selector).prop('checked', toggleSetting);
      }
    }
  </script>
  
  <%= stylesheet_link_tag "button.css" %>
<% end %>

<%= simple_form_for @vendor do |f| %>
  <h1>Vendor Information</h1>
      <section id="vendorInfo">
        <dl>
          <dt>Vendor Name:</dt>
          <dd><%= f.text_field :name, :size=>"20", :class=>"req" %>
          <dt>Url:</dt>
          <dd><%= f.text_field :url, :size=>"20", :class=>"req" %>
          <dt>Address:</dt>
          <dd><%= f.text_field :address, :size=>"20", :class=>"req" %>
          <dt>State:</dt>
          <dd><%= f.text_field :state, :size=>"20", :class=>"req" %>
          <dt>ZIP:</dt>
          <dd><%= f.text_field :zip, :size=>"20", :class=>"req" %>
        </dl>
        <dl>
          <dt class="foo">EHR POC:</dt>
          <dd><%= f.text_field :poc, :size=>"20", :class=>"req" %>
          <dt>Email:</dt>
          <dd><%= f.text_field :email, :size=>"20", :class=>"req" %>
          <dt>Phone:</dt>
          <dd><%= f.text_field :tel, :size=>"20", :class=>"req" %>
          <dt>Fax:</dt>
          <dd><%= f.text_field :fax, :size=>"20", :class=>"req" %>
        </dl>
        <dl>
          <dt>Proctor:</dt>
          <dd><%= f.text_field :proctor, :size=>"20", :class=>"req" %>
          <dt>Email:</dt>
          <dd><%= f.text_field :proctor_email, :size=>"20", :class=>"req" %>
          <dt>Phone:</dt>
          <dd><%= f.text_field :proctor_tel, :size=>"20", :class=>"req" %>
        </dl>
      </section>
      <h2>alternate POCs</h2>
        <section id="altPOC">
          <dl>
            <dt>Main EHR POC:</dt>
            <dd><%= f.text_field :accounts_poc, :size=>"20", :class=>"req" %>
            <dt>Email:</dt>
            <dd><%= f.text_field :accounts_email, :size=>"20", :class=>"req" %>
            <dt>Phone:</dt>
            <dd><%= f.text_field :accounts_tel, :size=>"20", :class=>"req" %>
          </dl>
          <dl>
            <dt>Technical POC:</dt>
            <dd><%= f.text_field :tech_poc, :size=>"20", :class=>"req" %>
            <dt>Email:</dt>
            <dd><%= f.text_field :tech_email, :size=>"20", :class=>"req" %>
            <dt>Phone:</dt>
            <dd><%= f.text_field :tech_tel, :size=>"20", :class=>"req" %>
          </dl>
          <dl>
            <dt>Press POC:</dt>
            <dd><%= f.text_field :press_poc, :size=>"20", :class=>"req" %>
            <dt>Email:</dt>
            <dd><%= f.text_field :press_email, :size=>"20", :class=>"req" %>
            <dt>Phone:</dt>
            <dd><%= f.text_field :press_tel, :size=>"20", :class=>"req" %>
          </dl>
        </section>
      <h1>Test Profile</h1>
      <section id="testProfile">
        <dl>
          <dt>patients:</dt>
          <dd>
	    <%= radio_button_tag(:patient_population_id,"all", @vendor.patient_population_id == "all") %>
            <%= label_tag(:patient_population_id_all, "all") %>
	    <br/>
	    <%= radio_button_tag(:patient_population_id,"core20", @vendor.patient_population_id == "core20") %>
            <%= label_tag(:patient_population_id_core20, "20 core") %>
	    <br/>
	    <%= radio_button_tag(:patient_population_id,"core20alt", @vendor.patient_population_id == "core20alt") %>
            <%= label_tag(:patient_population_id_core20alt, "20 core alternate") %>
	  </dd>
	</dl>
	<dl>
          <dt>error threshold:</dt>
          <dd><select><option>0%</option></select></dd>
	</dl>
	<dl>
          <dt>patient test mode:</dt>
          <dd><select><option>name randomization</option></select></dd>
        </dl>
      </section>
          
      <section id="testMeasures">
      <h2>test measures [<a href="javascript:void(0)" onclick="toggleMeasures('true')">check all</a> | <a href="javascript:void(0)" onclick="toggleMeasures(0);">uncheck all</a>]</h2>
      <% @measures_categories.sort.each do |category, measures| %>
      <div>
        <dl>
         <dt><%= category %> [<a href="javascript:void(0)" onclick="toggleMeasures('true','<%= category.tr(" ", "_") %>')">check all</a> | <a href="javascript:void(0)" onclick="toggleMeasures(0,'<%= category.tr(" ", "_") %>');">uncheck all</a>]</dt>
         <dd><%= f.collection_check_boxes :measure_ids, measures, :measure_id, :display_name, {}, {"class"=>category.tr(" ", "_")} %></dd>
        </dl>
        </div>
      <% end %>
       
      
      </section>
      

  <%= f.button :submit, :style => 'padding-left: 30px' %>
<% end %>

